# =============================================================================
# üè• BENEFITS PLATFORM - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your values
# ‚ö†Ô∏è  NEVER commit .env files to version control!
# =============================================================================

# =============================================================================
# üåç ENVIRONMENT SETTINGS
# =============================================================================
NODE_ENV=development
# Options: development | staging | production

APP_NAME="Benefits Platform"
APP_VERSION="1.0.0"

# Environment-specific settings
ENVIRONMENT=dev
# Options: dev | staging | prod

# =============================================================================
# üåê NETWORK & PORTS
# =============================================================================
# Frontend Applications
ADMIN_DASHBOARD_PORT=3001
EMPLOYEE_PORTAL_PORT=3000

# Backend Services  
USER_SERVICE_PORT=7101
BENEFITS_SERVICE_PORT=7102
DOCAI_SERVICE_PORT=7103
CARRIER_SERVICE_PORT=7104
COMPLIANCE_SERVICE_PORT=7105
FILES_SERVICE_PORT=7106

# Public URLs (for production)
ADMIN_DASHBOARD_URL=https://admin.benefits.yourcompany.com
EMPLOYEE_PORTAL_URL=https://benefits.yourcompany.com
API_BASE_URL=https://api.benefits.yourcompany.com

# =============================================================================
# üóÑÔ∏è DATABASE CONFIGURATION
# =============================================================================
# Primary Database (PostgreSQL)
DATABASE_URL=postgresql://benefits:benefits_pw@localhost:5432/benefits

# Database Connection Pool
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=20
DATABASE_SSL=false
# Set to true in production

# Test Database (for running tests)
TEST_DATABASE_URL=postgresql://benefits:benefits_pw@localhost:5432/benefits_test

# =============================================================================
# üî¥ CACHE & SESSION STORE (Redis)
# =============================================================================
REDIS_URL=redis://:benefits_redis_pw@localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=benefits_redis_pw
REDIS_TLS=false
# Set to true in production

# Cache TTL (Time To Live) in seconds
CACHE_TTL=3600
# 1 hour default

# =============================================================================
# ü§ñ AI & MACHINE LEARNING SERVICES
# =============================================================================
# OpenAI Configuration
OPENAI_API_KEY=sk-your-openai-api-key-here
# Get from: https://platform.openai.com/api-keys
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.1

# Azure OpenAI (alternative to OpenAI)
AZURE_OPENAI_ENDPOINT=https://your-instance.openai.azure.com/
AZURE_OPENAI_KEY=your-azure-openai-key
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4-turbo
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# AI Provider Selection
AI_PROVIDER=openai
# Options: openai | azure-openai | anthropic | local

# Anthropic Claude (optional)
ANTHROPIC_API_KEY=your-anthropic-api-key

# Local AI Model (optional)
LOCAL_AI_ENDPOINT=http://localhost:8080
LOCAL_AI_MODEL=llama-7b-chat

# =============================================================================
# üîê AUTHENTICATION & SECURITY
# =============================================================================
# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-at-least-32-characters-long
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your-refresh-token-secret-different-from-jwt-secret
JWT_REFRESH_EXPIRES_IN=7d

# Session Management
SESSION_SECRET=your-session-secret-for-express-sessions
SESSION_MAX_AGE=86400000
# 24 hours in milliseconds

# Password Hashing
BCRYPT_ROUNDS=12
# Higher numbers = more secure but slower

# Encryption Keys
ENCRYPTION_KEY=your-32-character-encryption-key-here
# Must be exactly 32 characters for AES-256
PII_ENCRYPTION_KEY=another-32-char-key-for-pii-data
# Separate key for PII/PHI data

# API Rate Limiting
API_RATE_LIMIT=100
# Requests per window
API_RATE_WINDOW=15m
# Time window (15 minutes)

# =============================================================================
# üîë OAUTH & SSO PROVIDERS
# =============================================================================
# Auth0 (Production Authentication)
AUTH0_DOMAIN=your-tenant.auth0.com
AUTH0_CLIENT_ID=your-auth0-client-id
AUTH0_CLIENT_SECRET=your-auth0-client-secret
AUTH0_AUDIENCE=https://api.benefits.yourcompany.com
AUTH0_CALLBACK_URL=https://admin.benefits.yourcompany.com/callback

# Okta (Alternative SSO)
OKTA_DOMAIN=your-org.okta.com
OKTA_CLIENT_ID=your-okta-client-id
OKTA_CLIENT_SECRET=your-okta-client-secret

# Google OAuth (for Google Workspace integration)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Microsoft Azure AD (for Office 365 integration)
AZURE_AD_CLIENT_ID=your-azure-ad-client-id
AZURE_AD_CLIENT_SECRET=your-azure-ad-client-secret
AZURE_AD_TENANT_ID=your-azure-tenant-id

# =============================================================================
# ‚òÅÔ∏è CLOUD SERVICES (AWS)
# =============================================================================
# AWS Core Configuration
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# S3 Storage
S3_BUCKET_DOCUMENTS=benefits-documents-prod
S3_BUCKET_EXPORTS=benefits-exports-prod
S3_BUCKET_BACKUPS=benefits-backups-prod
S3_BUCKET_LOGS=benefits-logs-prod

# KMS Encryption
KMS_KEY_ID=arn:aws:kms:us-east-1:123456789:key/your-key-id
KMS_ALIAS=alias/benefits-platform

# ECR (Container Registry)
ECR_REGISTRY=123456789.dkr.ecr.us-east-1.amazonaws.com

# SES (Email Service)
AWS_SES_REGION=us-east-1
FROM_EMAIL=noreply@yourcompany.com
REPLY_TO_EMAIL=support@yourcompany.com

# SNS (Notifications)
SNS_TOPIC_ARN=arn:aws:sns:us-east-1:123456789:benefits-alerts

# =============================================================================
# üì¶ FILE STORAGE (MinIO/S3 Compatible)
# =============================================================================
# MinIO (Local Development)
MINIO_ENDPOINT=localhost:9000
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_USE_SSL=false
MINIO_BUCKET_DOCUMENTS=documents
MINIO_BUCKET_UPLOADS=uploads
MINIO_BUCKET_BACKUPS=backups

# File Upload Limits
MAX_FILE_SIZE=50MB
# Maximum file size for document uploads
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,jpg,jpeg,png
# Comma-separated list of allowed extensions

# =============================================================================
# üìß EMAIL & COMMUNICATIONS
# =============================================================================
# SMTP Configuration (Development)
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@localhost

# SendGrid (Production Email)
SENDGRID_API_KEY=SG.your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@yourcompany.com
SENDGRID_FROM_NAME="Benefits Platform"

# Amazon SES (Alternative Production Email)
SES_ACCESS_KEY_ID=your-ses-access-key
SES_SECRET_ACCESS_KEY=your-ses-secret-key
SES_REGION=us-east-1

# Twilio (SMS Notifications)
TWILIO_ACCOUNT_SID=ACyour-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# üìä MESSAGE QUEUE (Kafka/RabbitMQ)
# =============================================================================
# Apache Kafka
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_CLIENT_ID=benefits-platform
KAFKA_GROUP_ID=benefits-consumer-group

# Kafka Topics
KAFKA_TOPIC_ENROLLMENT=enrollment-events
KAFKA_TOPIC_DOCUMENTS=document-events  
KAFKA_TOPIC_CARRIER=carrier-events
KAFKA_TOPIC_AUDIT=audit-events

# RabbitMQ (Alternative Message Queue)
RABBITMQ_URL=amqp://benefits:localrabbit@localhost:5672
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=benefits
RABBITMQ_PASSWORD=localrabbit

# Queue Names
QUEUE_ENROLLMENT=enrollment-queue
QUEUE_DOCUMENTS=documents-queue
QUEUE_NOTIFICATIONS=notifications-queue
QUEUE_CARRIER_SYNC=carrier-sync-queue

# =============================================================================
# üîç SEARCH ENGINE (Elasticsearch)
# =============================================================================
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=changeme
ELASTICSEARCH_INDEX_PREFIX=benefits
ELASTICSEARCH_MAX_RESULTS=10000

# =============================================================================
# üìã CARRIER INTEGRATIONS
# =============================================================================
# EDI Configuration
EDI_SENDER_ID=YOUR_SENDER_ID
EDI_RECEIVER_ID=CARRIER_RECEIVER_ID
EDI_TEST_MODE=true
# Set to false in production

# SFTP Settings (per carrier)
SFTP_CARRIER_1_HOST=sftp.carrier1.com
SFTP_CARRIER_1_PORT=22
SFTP_CARRIER_1_USER=your-username
SFTP_CARRIER_1_PASSWORD=your-password
SFTP_CARRIER_1_PATH=/inbound

# Carrier API Keys
CARRIER_1_API_KEY=your-carrier-1-api-key
CARRIER_1_API_SECRET=your-carrier-1-secret
CARRIER_1_SANDBOX=true

CARRIER_2_API_KEY=your-carrier-2-api-key
CARRIER_2_API_SECRET=your-carrier-2-secret
CARRIER_2_SANDBOX=true

# =============================================================================
# üìä MONITORING & OBSERVABILITY  
# =============================================================================
# Application Performance Monitoring
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Datadog APM
DATADOG_API_KEY=your-datadog-api-key
DATADOG_APP_KEY=your-datadog-app-key
DATADOG_SITE=datadoghq.com

# New Relic
NEW_RELIC_LICENSE_KEY=your-newrelic-license-key
NEW_RELIC_APP_NAME=Benefits Platform

# Logging
LOG_LEVEL=info
# Options: error | warn | info | debug | trace
LOG_FORMAT=json
# Options: json | text
LOG_FILE_ENABLED=true
LOG_FILE_PATH=logs/application.log

# OpenTelemetry Tracing
JAEGER_ENDPOINT=http://localhost:14268/api/traces
JAEGER_SERVICE_NAME=benefits-platform
TRACING_ENABLED=true

# Metrics Collection
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
METRICS_PREFIX=benefits_platform

# =============================================================================
# üîí COMPLIANCE & SECURITY SETTINGS
# =============================================================================
# HIPAA Compliance
HIPAA_COMPLIANCE_MODE=true
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555
# 7 years as required by HIPAA

# PII/PHI Protection
PII_ENCRYPTION_ENABLED=true
PHI_LOGGING_DISABLED=true
DATA_MASKING_ENABLED=true

# Data Retention
DATA_RETENTION_DAYS=365
INACTIVE_USER_RETENTION_DAYS=1095
# 3 years

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
# Daily at 2 AM
BACKUP_RETENTION_DAYS=90

# =============================================================================
# üß™ TESTING CONFIGURATION
# =============================================================================
# Test Environment Settings
RUN_E2E_TESTS=false
TEST_TIMEOUT=30000
# 30 seconds

# Test Data
SEED_DATA_ENABLED=true
# Only enable in dev/staging
DEMO_MODE=false
# Enables demo users and data

# Mock Services
MOCK_CARRIERS=true
# Use mock carrier responses in development
MOCK_AI_RESPONSES=false
# Use mock AI responses (faster for testing)

# =============================================================================
# üöÄ FEATURE FLAGS
# =============================================================================
# AI Features
FEATURE_AI_DOCUMENT_PROCESSING=true
FEATURE_AI_DECISION_COACH=true
FEATURE_AI_FRAUD_DETECTION=false

# Integration Features  
FEATURE_CARRIER_REAL_TIME_SYNC=false
FEATURE_SSO_INTEGRATION=true
FEATURE_MOBILE_APP=false

# UI Features
FEATURE_DARK_MODE=true
FEATURE_ADVANCED_ANALYTICS=false
FEATURE_MULTI_LANGUAGE=false

# Compliance Features
FEATURE_AUDIT_DASHBOARD=true
FEATURE_PRIVACY_CONTROLS=true
FEATURE_GDPR_COMPLIANCE=false

# =============================================================================
# üîß DEVELOPMENT TOOLS
# =============================================================================
# Development Utilities
DEBUG_MODE=true
# Enables additional logging and debugging features
MOCK_EXTERNAL_APIS=true
# Mock external API calls for offline development

# Hot Reloading
WATCH_FILES=true
FAST_REFRESH=true

# Database Seeding
AUTO_SEED_DATABASE=true
# Automatically seed database on startup

# API Documentation
SWAGGER_ENABLED=true
SWAGGER_PATH=/docs
API_DOCS_PASSWORD=dev-docs-password
# Basic auth for API docs in non-prod environments

# =============================================================================
# üì± MOBILE & PWA CONFIGURATION
# =============================================================================
# Progressive Web App
PWA_ENABLED=true
PWA_OFFLINE_SUPPORT=true
PWA_PUSH_NOTIFICATIONS=true

# Push Notification Services
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key
FCM_SERVER_KEY=your-fcm-server-key

# =============================================================================
# üåç INTERNATIONALIZATION (i18n)
# =============================================================================
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,es,fr
ENABLE_RTL_SUPPORT=false
# Right-to-left language support

# =============================================================================
# ‚ö° PERFORMANCE OPTIMIZATION
# =============================================================================
# Caching
ENABLE_RESPONSE_CACHING=true
CACHE_STATIC_ASSETS=true
CDN_URL=https://cdn.yourcompany.com

# Database Optimization
DATABASE_QUERY_TIMEOUT=30000
# 30 seconds
DATABASE_CONNECTION_TIMEOUT=10000
# 10 seconds

# File Processing
MAX_CONCURRENT_UPLOADS=10
DOCUMENT_PROCESSING_TIMEOUT=300000
# 5 minutes for large documents

# =============================================================================
# üìç ENVIRONMENT-SPECIFIC OVERRIDES
# =============================================================================
# These can be uncommented and customized per environment

# Development Overrides
# CORS_ORIGIN=http://localhost:3000,http://localhost:3001
# SSL_DISABLED=true
# CSRF_DISABLED=true

# Staging Overrides  
# LOG_LEVEL=debug
# MOCK_CARRIERS=false
# FEATURE_FLAGS_ALL=true

# Production Overrides
# LOG_LEVEL=warn
# MOCK_CARRIERS=false
# DEBUG_MODE=false
# SWAGGER_ENABLED=false

# =============================================================================
# üè• BENEFITS PLATFORM SPECIFIC
# =============================================================================
# Plan Configuration
DEFAULT_PLAN_YEAR_START=01-01
DEFAULT_PLAN_YEAR_END=12-31
OPEN_ENROLLMENT_WINDOW_DAYS=30

# Employee Limits
MAX_DEPENDENTS_PER_EMPLOYEE=10
MIN_EMPLOYEE_AGE=18
MAX_DEPENDENT_AGE=26

# Document Processing
OCR_CONFIDENCE_THRESHOLD=0.75
AI_EXTRACTION_TIMEOUT=120000
# 2 minutes for document processing

# Carrier Integration
CARRIER_TIMEOUT=30000
# 30 seconds for carrier API calls
EDI_BATCH_SIZE=1000
# Number of records per EDI file

# =============================================================================
# üìù NOTES & COMMENTS
# =============================================================================
# 
# üîê SECURITY NOTES:
# - Always use strong, unique passwords for each service
# - Rotate secrets regularly (quarterly for production)
# - Never commit .env files to version control
# - Use different keys for different environments
# - Enable 2FA/MFA for all admin accounts
#
# üöÄ DEPLOYMENT NOTES:
# - Validate all URLs before production deployment
# - Test email/SMS delivery in staging environment
# - Verify SSL certificates are properly configured
# - Check firewall rules and security groups
# - Monitor resource usage and set up alerts
#
# üìä MONITORING NOTES:
# - Set up log rotation to prevent disk space issues
# - Configure alerts for critical errors and timeouts
# - Monitor database connection pool usage
# - Track AI model performance and accuracy
# - Set up uptime monitoring for all endpoints
#
# üí∞ COST OPTIMIZATION:
# - Review cloud service usage monthly
# - Implement appropriate data retention policies  
# - Use spot instances for non-critical workloads
# - Optimize database queries and indexes
# - Enable compression for file storage
#
# =============================================================================
# üìÖ LAST UPDATED: January 2024
# üîÑ Remember to update this template when adding new features!
# =============================================================================
# ========== CORE SETTINGS ==========
NODE_ENV=development
PORT=3000

# ========== DATABASE ==========
DATABASE_URL=postgresql://benefits:benefits_pw@localhost:5432/benefits
POSTGRES_USER=benefits
POSTGRES_PASSWORD=benefits_pw
POSTGRES_DB=benefits

# ========== REDIS ==========
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=dev_redis_pw

# ========== ENCRYPTION (CRITICAL - Change in production!) ==========
ENCRYPTION_KEY=your-32-character-encryption-key!!
ENCRYPTION_SALT=your-salt-value-minimum-16-chars!!

# ========== AUTH ==========
JWT_SECRET=your-jwt-secret-change-in-production
SESSION_SECRET=your-session-secret

# ========== KEYCLOAK (Dev Auth) ==========
KEYCLOAK_ADMIN=admin
KEYCLOAK_PASSWORD=changeme
OIDC_ISSUER=http://localhost:8081/realms/benefits

# ========== AI SERVICES (Optional) ==========
# OPENAI_API_KEY=sk-...
# AZURE_OPENAI_ENDPOINT=https://...
# AZURE_OPENAI_KEY=...
AI_PROVIDER=mock

# ========== MINIO (S3 Alternative) ==========
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# ========== COMPLIANCE ==========
HIPAA_MODE=true
AUDIT_ALL_ACCESS=true
PHI_ACCESS_LOGGING=true
AUTO_LOGOUT_MINUTES=15
COMPLIANCE_AUDIT_ENABLED=true
COMPLIANCE_LOG_PHI=false

# ========== FEATURES ==========
FEATURE_ENROLLMENT=true
FEATURE_AI_COACH=false
FEATURE_DOCUMENT_AI=false
FEATURE_CARRIER_SUBMIT=false

# ========== NOTIFICATIONS ==========
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_FROM=noreply@benefits-platform.local
EMAIL_MOCK_MODE=true

# ========== SFTP (Carrier Integration) ==========
SFTP_USER=carrier
SFTP_PASS=carrier_pw
EDI_MOCK_MODE=true
